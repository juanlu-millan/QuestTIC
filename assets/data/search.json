[
  
  {
    "title"    : "Actualización de Centos 7 a Centos 8",
    "category" : "",
    "tags"     : " Centos, Centos 8, kernel",
    "url"      : "/2021/01/01/De-Centos7-a-Centos8.html",
    "date"     : "January 1, 2021",
    "excerpt"  : "\n  En este post veremos como actualizar una máquina con Centos 7 a la versión más reciente de Centos 8 siguiendo una serie de sencillos pasos.\n\n\n\n\n\n  Instalamos el paquete epel-release, EPEL son paquetes de Fedora y que no entrán en conflicto con ...",
  "content"  : "\n  En este post veremos como actualizar una máquina con Centos 7 a la versión más reciente de Centos 8 siguiendo una serie de sencillos pasos.\n\n\n\n\n\n  Instalamos el paquete epel-release, EPEL son paquetes de Fedora y que no entrán en conflicto con los paquetes de nuestra distribución Linux.\n    yum install epel-release -y\n    \n  \n  Instalamos en caso de no tenerla instalada las herramientas de yum\n\n\nyum install yum-utils -y\n\n\n\n  Instalamos RMP que es una herramienta para manejar archivos.\n\n\nyum install rpmconf -y\n\n\n\n  Ejecutamos el comando de verificación de rpm.\n    rpmconf -a\n    \n  \n\n\nVerifique los archivos de configuración de todos los paquetes.\n\n\n  Hacemos una limpieza de paquetes que no son necesarios.\n    package-cleanup --leaves\npackage-cleanup --orphans\n    \n  \n  Ahora instalaremos un gestor de paquetes llamado DNF que sustituirá a yum que ya esta algo desfasado.\n\n\nyum install dnf\n\n\n\n  Llega el momento en el que desinstalamos yum y eliminamos su directorio.\n\n\ndnf -y remove yum yum-metadata-parser\n\n\nrm -Rf /etc/yum\n\n\n\n  Habilitamos los repositorios de Centos 8 ( http://mirror.centos.org/centos/8/BaseOS/x86_64/os/Packages/)\n\n\ndnf install \\\nhttp://mirror.centos.org/centos/8/BaseOS/x86_64/os/Packages/centos-repos-8.2-2.2004.0.1.el8.x86_64.rpm \\\nhttp://mirror.centos.org/centos/8/BaseOS/x86_64/os/Packages/centos-release-8.2-2.2004.0.1.el8.x86_64.rpm \\\nhttp://mirror.centos.org/centos/8/BaseOS/x86_64/os/Packages/centos-gpg-keys-8.2-2.2004.0.1.el8.noarch.rpm\n\n\n\n  Actualizamos el paquete epel que vimos anteriormente.\n\n\ndnf upgrade -y epel-release\n\n\n\n  Generamos la caché.\n\n\ndnf makecache\n\n\n\n  Eliminamos los ficheros temporales realizando una limpieza.\n\n\ndnf clean all\n\n\n\n  Debemos eliminar las versiones actuales del kernel\n\n\nComprobamos el instalado.\n rpm --query centos-release\n\n\n\n  \n    \n      Con rpm -qa\n      egrep kernel nos muestra tanto el kernel-core como kernel-tools-libs y kernel-tools de la versión actual y la eliminamos.\n    \n  \n\n\nrpm -e `rpm -qa | egrep kernel`\n\n\n\n  Eliminamos los paquetes que tienen conflictos.\n\n\nrpm -e --nodeps sysvinit-tools\n\n\n\n  Actualizamos de nuevo.\n\n\ndnf -y --releasever=8 --allowerasing --setopt=deltarpm=false distro-sync\n\n\n\n  Instalamos el kernel-core de Centos8\n\n\ndnf install -y kernel-core\n\n\n\n  Instalamos los paquetes minimos del sistema:\n\n\ndnf -y groupupdate &quot;Core&quot; &quot;Minimal Install&quot; \\\n--allowerasing --skip-broken\n\n\n\n  Reiniciamos y realizamos la comprobación:\n\n\nsudo reboot\n\n\n\n  Comprobación:\n\n\n[centos@quijote ~]$ uname -r\n4.18.0-193.28.1.el8_2.x86_64\n[centos@quijote ~]$ cat /etc/redhat-release\nCentOS Linux release 8.2.2004 (Core)\n\n"
} ,
  
  {
    "title"    : "Modificación completa de la arquitectura en Debian 10",
    "category" : "",
    "tags"     : " Debian, amd64, i386, kernel",
    "url"      : "/2020/12/29/Cambio-de-Arquitectura-Debian.html",
    "date"     : "December 29, 2020",
    "excerpt"  : "\n  Utilizando una maquina con Debian Buster sobre arquitectura x86_64 (amd64) agregaremos la arquitectura i386 y realizaremos los pasos necesarios para que finalmente todos los paquetes de la máquina sean de arquitectura i386. Se finalizara cuando...",
  "content"  : "\n  Utilizando una maquina con Debian Buster sobre arquitectura x86_64 (amd64) agregaremos la arquitectura i386 y realizaremos los pasos necesarios para que finalmente todos los paquetes de la máquina sean de arquitectura i386. Se finalizara cuando se elimine la arquitectura amd64.\n\n\n\n\nActualizamos el sistema\n\nsudo apt-get update &amp;amp;&amp;amp; apt-get upgrade &amp;amp;&amp;amp; apt-get dist-upgrade &amp;amp;&amp;amp; apt-get clean\n\n\nAgregar arquitectura i386\n\nsudo dpkg --add-architecture i386\n\n\n\n  Actualizamos los paquetes.\n\n\nsudo apt-get update\n\n\nElimina todos los paquetes del cache. El único inconveniente que podría resultar es que si quieres reinstalar un paquete, tienes que volver a descargarlo.\n\nsudo apt-get clean\n\n\nInstalamos los paquetes apt, dpkg y las apt-utils de la arquitectura que acabamos de agregar.\n\nsudo apt-get -y --no-install-recommends --download-only install dpkg:i386 apt:i386 apt-utils:i386\n\n\nLos archivos del paquete .deb permanecen almacenados en caché /var/cache/apt/archives así que trataremos de instalarlos\n\nsudo dpkg --install /var/cache/apt/archives/*i386.deb\n\n\n\n  En caso de que de fallo algún paquete puede ser porque al instalar los paquetes dpkg hace de una pasada y si un paquete de parte alta de la lista depende de uno de la parte baja va dar un problema de dependencia por lo que seria conveniente volver a ejecutar el comando.\n\n\nDescargamos los paquetes con la arquitectura i386\n\n sudo apt-get --download-only -y --no-install-recommends install `dpkg -l | grep &#39;^.i&#39; | awk &#39;{print $2}&#39; | grep :amd64 | egrep -v &#39;linux-image-.&#39; | egrep -v &#39;linux-headers-.&#39; | egrep -v &#39;linux-compiler-.*&#39;|egrep -v &#39;liblsan0&#39;|sed &#39;s/:amd64/:i386/g&#39;`\n\n\n\n  Mi principal problema fueron unos paquetes que se saltaban mis restricciones y tuve que añadir más tarde: Linux-headers,linux-compiler y liblsan0\n\n\nEn caso de tener problemas por falta de librerías instalaremos de nuevo\n\nsudo  dpkg --install /var/cache/apt/archives/lib*.deb\n\n\nAhora ejecutaremos  sudo dpkg –configure -a que configurarán todos los paquetes desempaquetados pero no configurados.\n\nInstalamos los últimos paquetes que nos quedan\n\nsudo dpkg --install /var/cache/apt/archives/*.deb\n\n\nEliminamos los paquetes de amd64 que no dependen del kernel ya que cuando reiniciemos y tengamos la versión de 686 podremos eliminar en su totalidad los paquetes de amd64\n\nsudo apt-get autoremove\n\n\nInstalamos el kernel i386 (linux-image-686):\n\nsudo apt-get install -y linux-image-686\n\n\n\n  Como hemos tenido problemas con los headers de x86_64 instalaremos el header de 686\n\n\nsudo apt-get install linux-headers-686\n\n\nReinicamos el equipo para realizar la comprobación:\n\nsudo reboot\n\n\nComprobación y borrado de todos los paquetes amd64 restantes.\n\nuname -r\n4.9.0-13-686\n\nsudo apt-get remove -y `dpkg -l | grep &#39;^.i&#39; | awk &#39;{print $2}&#39; | grep :amd64`\n\n\nUna vez eliminado todos los paquetes toca eliminar la arquitectura de amd64 y comprobamos la arquitectura que tenemos ahora por defecto\n\nvagrant@arquitectura:~$ sudo dpkg --remove-architecture amd64\nvagrant@arquitectura:~$ dpkg --print-architecture\ni386\n\n\n\n  Compruebo que no tenemos tampoco arquitectura\n    vagrant@arquitectura:~$ dpkg --print-foreign-architectures\nvagrant@arquitectura:~$\n    \n  \n\n"
} ,
  
  {
    "title"    : "Bienvenido a Quest TIC",
    "category" : "",
    "tags"     : " QuestTIC, Presentación",
    "url"      : "/2020/06/30/Bienvenido-a-Quest-TIC.html",
    "date"     : "June 30, 2020",
    "excerpt"  : "Me presento, mi nombre es Juan Luis Millán y soy el creador de este blog, Actualmente estoy cursando los estudios de Administración de Sistemas Informáticos en Red en el IES Gonzalo Nazareno (Dos Hermanas).\n\n\n\n¿Que es Quest TIC?\nMi idea al crear e...",
  "content"  : "Me presento, mi nombre es Juan Luis Millán y soy el creador de este blog, Actualmente estoy cursando los estudios de Administración de Sistemas Informáticos en Red en el IES Gonzalo Nazareno (Dos Hermanas).\n\n\n\n¿Que es Quest TIC?\nMi idea al crear este blog es la de poder compartir conocimentos y conocer a otras personas del sector así de esta manera puedo aprender más de este gran mundo que es la informática y compartirla con vosotros.\n\n¿Que contenido se puede ver en la página?\nLa intención que tengo es de tener un contenido variado, desde montar un servidor en Linux pasando por multitud de programas y mostrando comandos básicos para el uso diario de tu sistema operativo.\n"
} 
  
  
  
]
